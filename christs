#!/bin/bash
# C.H.R.I.S.T. Terminal Launcher

# Colors
GREEN='\033[0;32m'
NC='\033[0m'

# Determine Python command to use
if [ -n "$VIRTUAL_ENV" ]; then
    # Already in venv, use python3 from PATH
    PYTHON_CMD="python3"
elif [ -f "../venv/bin/python3" ]; then
    # Use parent directory venv (the actual location)
    PYTHON_CMD="../venv/bin/python3"
elif [ -f "venv/bin/python3" ]; then
    # Check current directory venv as fallback
    PYTHON_CMD="venv/bin/python3"
else
    # Fall back to system python3
    echo "⚠️  Virtual environment not found. Using system Python."
    PYTHON_CMD="python3"
fi

# Check if Ollama is running (optional)
if ! curl -s http://localhost:11434/api/tags > /dev/null 2>&1; then
    echo "⚠️  Ollama not running. AI features will be limited."
    echo "   Start with: ollama serve"
    echo ""
fi

# Launch the terminal
$PYTHON_CMD christ_terminal.py "$@"